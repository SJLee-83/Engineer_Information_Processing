## 스머핑(Smurfing)이란?
스머핑은 **IP 스푸핑(Spoofing)**과 ICMP의 특성을 이용해 목표 시스템을 마비시키는 대표적인 DDoS(분산 서비스 거부) 공격 중 하나입니다.

여기서 핵심은 공격자가 자신의 정체를 숨기고, 중간에 엉뚱한 네트워크(증폭 네트워크)를 이용하여 작은 공격 하나를 수백, 수천 배로 증폭시켜 공격 대상에게 보내는 것입니다. 

## 스머핑 공격의 원리 (쉽게 이해하기)
스머핑 공격은 3명의 등장인물로 비유할 수 있습니다: 공격자, 피해자(Target), 그리고 아무것도 모른 채 이용당하는 증폭 네트워크(Amplifier).

IP 스푸핑 (주소 위조)
공격자는 패킷을 보낼 때, 보내는 사람(Source IP) 주소를 자신의 IP가 아닌 피해자의 IP 주소로 위조합니다.

증폭 네트워크에 요청
공격자는 위조된 IP로 ICMP Echo Request (네트워크 장비들이 살아있는지 확인하는 ping 요청) 패킷을 증폭 네트워크의 브로드캐스트(Broadcast) 주소로 전송합니다.

*브로드캐스트 주소: 해당 네트워크에 연결된 모든 장비에게 한 번에 메시지를 보내는 특별한 주소입니다.

증폭된 응답 전송
증폭 네트워크에 속한 모든 장비들은 '나 여기 살아있어!'라는 의미의 ICMP Echo Reply (ping 응답)를 보내야 합니다. 이때, 응답을 받을 주소는 패킷의 발신지 주소, 즉 1번 단계에서 위조된 피해자의 IP 주소입니다.

피해자 시스템 마비
결과적으로 피해자는 단 하나의 ping 요청도 보낸 적이 없는데도, 증폭 네트워크에 속한 수십, 수백 대의 장비로부터 오는 엄청난 양의 ping 응답 패킷을 한꺼번에 받게 됩니다. 
이로 인해 네트워크 대역폭(Bandwidth)이 가득 차서 정상적인 서비스를 할 수 없는 상태에 빠집니다.

비유: 공격자가 피해자의 집 주소를 발신인으로 적어서, A 아파트 단지(증폭 네트워크)의 모든 세대(네트워크 장비)에게 "카탈로그 보내주세요"라는 요청 엽서(ICMP Request)를 보내는 것과 같습니다. 
그러면 A 아파트의 모든 세대는 카탈로그(ICMP Reply)를 피해자의 집으로 보내게 되고, 피해자의 우편함은 순식간에 터져버리겠죠.


## 함께 알아둬야 할 DoS/DDoS 공격 유형

### 1. SYN Flooding (SYN 플러딩)
개념: TCP의 연결 과정인 3-way Handshake의 취약점을 이용한 공격입니다.

원리: 공격자가 서버에 접속을 요청하는 SYN 패킷을 대량으로 보냅니다. 하지만 마지막 인증 절차인 ACK는 보내지 않고 계속 새로운 SYN 요청만 보냅니다. 
서버는 오지도 않을 ACK를 기다리며 연결 자원(Backlog Queue)을 계속 할당하다가 결국 자원이 고갈되어 정상적인 접속 요청을 처리할 수 없게 됩니다.

### 2. Ping of Death (죽음의 핑)
개념: ICMP 패킷을 정상 크기보다 훨씬 크게 만들어 보내는 공격입니다.

원리: 과거 운영체제들은 허용된 크기(65,535 바이트)보다 큰 IP 패킷을 받으면 이를 처리하지 못하고 시스템이 다운되거나 재부팅되는 취약점이 있었습니다. 
이 패킷을 잘게 조각내어 보낸 후, 피해자 시스템이 재조합하는 과정에서 오류가 발생하도록 유도합니다. (현재는 대부분 패치됨)

### 3. LAND Attack (랜드 어택)
개념: 패킷을 보낼 때 출발지 IP와 목적지 IP를 똑같이 만들어서 보내는 공격입니다.

원리: 출발지와 목적지 IP가 모두 피해자 자신의 IP 주소로 설정된 패킷을 받은 시스템은 자기 자신에게 응답을 보내고 또 그 응답에 대해 다시 응답하는 무한 루프에 빠지게 되어 시스템 부하를 유발합니다.

### 4. Teardrop Attack (티어드롭 어택)
개념: IP 패킷을 조각내어 보낼 때, 재조합 순서를 비정상적으로 만들어 시스템 오류를 유발하는 공격입니다.

원리: 예를 들어, 1~200, 201~400으로 보내야 할 패킷 조각을 1~200, 150~350처럼 중첩시키거나 큰 공백을 만들어 보냅니다. 피해자 시스템은 이 조각들을 재조합하는 과정에서 오류가 발생하여 시스템이 다운될 수 있습니다.

### 5. DRDoS (Distributed Reflection DoS)
개념: 스머핑 공격처럼 출발지 IP를 피해자의 IP로 위조하여, 정상적인 서비스를 하는 서버들이 반사체(Reflector)가 되어 피해자에게 대량의 응답을 보내도록 하는 공격의 상위 개념입니다. 
스머핑은 DRDoS의 한 종류이며, DNS 서버나 NTP 서버 등을 이용하는 공격도 많습니다.